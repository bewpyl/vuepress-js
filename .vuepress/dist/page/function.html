<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript function | Javascript</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.4c3b3122.css" as="style"><link rel="preload" href="/assets/js/app.f2dbc28d.js" as="script"><link rel="preload" href="/assets/js/8.bb1e35cd.js" as="script"><link rel="prefetch" href="/assets/js/5.a985504c.js"><link rel="prefetch" href="/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/assets/js/3.6f840b88.js"><link rel="prefetch" href="/assets/js/4.893b810b.js"><link rel="prefetch" href="/assets/js/6.32f1ab63.js"><link rel="prefetch" href="/assets/js/7.b084423e.js"><link rel="prefetch" href="/assets/js/9.e3f9f787.js"><link rel="prefetch" href="/assets/js/10.088f9002.js"><link rel="prefetch" href="/assets/js/11.b0e6d0fa.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4c3b3122.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Javascript</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/page/gettingStarted.html" class="nav-link">Getting Started</a></div><div class="nav-item"><a href="/page/fundamental.html" class="nav-link">JS Fundamental</a></div><div class="nav-item"><a href="/page/controlflow.html" class="nav-link">Control Flow</a></div><div class="nav-item"><a href="/page/array.html" class="nav-link">JS Array</a></div><div class="nav-item"><a href="/page/function.html" class="nav-link router-link-exact-active router-link-active">JS Function</a></div><div class="nav-item"><a href="/page/object.html" class="nav-link">JS Objects</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/page/gettingStarted.html" class="nav-link">Getting Started</a></div><div class="nav-item"><a href="/page/fundamental.html" class="nav-link">JS Fundamental</a></div><div class="nav-item"><a href="/page/controlflow.html" class="nav-link">Control Flow</a></div><div class="nav-item"><a href="/page/array.html" class="nav-link">JS Array</a></div><div class="nav-item"><a href="/page/function.html" class="nav-link router-link-exact-active router-link-active">JS Function</a></div><div class="nav-item"><a href="/page/object.html" class="nav-link">JS Objects</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>JavaScript function</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/page/function.html#javascript-function-2" class="sidebar-link">JavaScript function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page/function.html#declaring-javascript-function" class="sidebar-link">Declaring JavaScript function</a></li><li class="sidebar-sub-header"><a href="/page/function.html#calling-a-javascript-function" class="sidebar-link">Calling a JavaScript function</a></li><li class="sidebar-sub-header"><a href="/page/function.html#returning-a-value" class="sidebar-link">Returning a value</a></li><li class="sidebar-sub-header"><a href="/page/function.html#understanding-javascript-function-arguments" class="sidebar-link">Understanding JavaScript function arguments</a></li><li class="sidebar-sub-header"><a href="/page/function.html#javascript-function-overloading" class="sidebar-link">JavaScript function overloading</a></li><li class="sidebar-sub-header"><a href="/page/function.html#javascript-function-hoisting" class="sidebar-link">JavaScript function hoisting</a></li></ul></li><li><a href="/page/function.html#javascript-function-type" class="sidebar-link">JavaScript Function Type</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page/function.html#introduction-to-javascript-function-type" class="sidebar-link">Introduction to JavaScript Function type</a></li><li class="sidebar-sub-header"><a href="/page/function.html#function-expression-and-hoisting" class="sidebar-link">Function expression and hoisting</a></li><li class="sidebar-sub-header"><a href="/page/function.html#functions-properties" class="sidebar-link">Functions properties</a></li><li class="sidebar-sub-header"><a href="/page/function.html#function-methods-apply-call-and-bind" class="sidebar-link">Function methods: apply(), call() and bind()</a></li><li class="sidebar-sub-header"><a href="/page/function.html#javascript-function-that-returns-a-function" class="sidebar-link">JavaScript function that returns a function</a></li></ul></li><li><a href="/page/function.html#javascript-recursive-function" class="sidebar-link">JavaScript Recursive Function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page/function.html#introduction-to-the-javascript-recursive-function" class="sidebar-link">Introduction to the JavaScript recursive function</a></li></ul></li><li><a href="/page/function.html#javascript-closure" class="sidebar-link">JavaScript Closure</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page/function.html#introduction-to-javascript-closure" class="sidebar-link">Introduction to JavaScript closure</a></li><li class="sidebar-sub-header"><a href="/page/function.html#javascript-closure-in-a-loop" class="sidebar-link">JavaScript closure in a loop</a></li></ul></li><li><a href="/page/function.html#javascript-passing-by-value" class="sidebar-link">JavaScript Passing By Value</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/page/function.html#understanding-javascript-pass-by-value" class="sidebar-link">Understanding JavaScript Pass By Value</a></li><li class="sidebar-sub-header"><a href="/page/function.html#javascript-pass-by-value-or-pass-by-reference" class="sidebar-link">JavaScript pass by value or pass by reference</a></li><li class="sidebar-sub-header"><a href="/page/function.html#passing-by-value-of-primitives-values" class="sidebar-link">Passing by value of primitives values</a></li><li class="sidebar-sub-header"><a href="/page/function.html#passing-by-value-of-references" class="sidebar-link">Passing by value of references</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="javascript-function"><a href="#javascript-function" aria-hidden="true" class="header-anchor">#</a> JavaScript function</h1> <h2 id="javascript-function-2"><a href="#javascript-function-2" aria-hidden="true" class="header-anchor">#</a> JavaScript function</h2> <p><strong>Summary</strong>: this tutorial introduces you to JavaScript function concept that allows you to structure your code into smaller and reusable units.</p> <p>One of the most important concepts in JavaScript is the function. The functions allow you to structure a large script, reduce into smaller manageable units.</p> <h3 id="declaring-javascript-function"><a href="#declaring-javascript-function" aria-hidden="true" class="header-anchor">#</a> Declaring JavaScript function</h3> <p>To declare a function, you use the <code>function</code> keyword, followed by the function name, a list of arguments, and then the function body.</p> <p>The basic syntax for declaring a function is as follows:</p> <table><thead><tr><th>123</th> <th>function functionName(argument0,argument1,argumentN){    // function body}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The function name must be a valid JavaScript <a href="http://www.javascripttutorial.net/javascript-syntax/#identifiers" target="_blank" rel="noopener noreferrer">identifier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>See the following example.</p> <table><thead><tr><th>1234567</th> <th>function say(message) {    if (message) {        alert('Hello');    } else {        alert(message);    }}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The function <code>say</code> accepts one argument. Inside the function, it shows the <code>Hello</code> message if the <code>message</code> argument is blank, otherwise, it shows the value of the  <code>message</code> argument.</p> <h3 id="calling-a-javascript-function"><a href="#calling-a-javascript-function" aria-hidden="true" class="header-anchor">#</a> Calling a JavaScript function</h3> <p>To call a function, you use its name followed by the function arguments enclosed in parentheses. If the function accepts multiple arguments, you separate arguments by commas.</p> <p>The following statement calls the <code>say()</code> function above.</p> <table><thead><tr><th>1</th> <th>say('Hi');</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The output of the function is <code>'Hi'</code>.</p> <h3 id="returning-a-value"><a href="#returning-a-value" aria-hidden="true" class="header-anchor">#</a> Returning a value</h3> <p>A function can return a value by using the <code>return</code> statement followed by an expression or a value. See the following example.</p> <table><thead><tr><th>123</th> <th>function add(a, b) {    return a + b;}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The <code>add</code> function adds two values and returns the result.</p> <p>You can call the <code>add()</code> function as follows:</p> <table><thead><tr><th>1</th> <th>var result = add(10,20);</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>You can use multiple <code>return</code> statements in a function to return different values based on a condition as shown in the following example.</p> <table><thead><tr><th>1234567891011</th> <th>function compare(a, b) {    if (a &gt; b) {        return -1;    }    else if (a &lt; b) {        return 1;    }    else {        return 0;    }}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The <code>compare()</code> function compares two values. It returns -1 if the first argument is greater than the second one, 1 if the first argument is less than the second one, and 0 in case they are equal.</p> <p>Itâ€™s important to note that a function stops executing and exits immediately when the <code>return</code> statement is reached. For this reason, you can use the <code>return</code> statement to stop the execution of a function immediately.</p> <p>See the following function.</p> <table><thead><tr><th>12345678</th> <th>function logUsername(username) {    console.log('username:' + username);    // log a message if the name is too short    if (username.length &gt; 5) {        return;    }    console.log('User name ' + username + ' is too short!!!');}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The <code>logUsername()</code> function accepts an argument which is the <code>username</code>. On line 4, if the length of the <code>username</code> argument is greater than 5, the function stops and line 7 will not be executed at all.</p> <h3 id="understanding-javascript-function-arguments"><a href="#understanding-javascript-function-arguments" aria-hidden="true" class="header-anchor">#</a> Understanding JavaScript function arguments</h3> <p>Different from other programming languages, JavaScript treats function arguments differently.</p> <p>You can define a function that accepts three arguments. However, it does not mean that you can pass in only three arguments in. Actually, you can pass in three, one or none, and the JavaScript interpreter wonâ€™t complain at all.</p> <p>In fact, JavaScript uses an object named <code>arguments</code> to represent a function argument. The <code>arguments</code>object behaves like an array though it is not an instance of Array.</p> <p>For example, you can use the square bracket <code>[]</code> to access the arguments: <code>arguments[0]</code> returns the first argument, <code>arguments[1]</code> returns the second one, and so on. Also, you can use the <code>length</code>property of the <code>arguments</code> object to determine the number of the input arguments.</p> <p>The following example shows a generic <code>add()</code> function that calculates the sum of any numbers of arguments.</p> <table><thead><tr><th>1234567</th> <th>function add() {    var sum = 0;    for (let i = 0; i &lt; arguments.length; i++) {        sum += arguments[i];    }    return sum;}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Hence, you can pass any number of arguments to the <code>add()</code> function.</p> <table><thead><tr><th>12</th> <th>console.log(add(1, 2)); // 3console.log(add(1, 2, 3, 4, 5)); // 15</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <h3 id="javascript-function-overloading"><a href="#javascript-function-overloading" aria-hidden="true" class="header-anchor">#</a> JavaScript function overloading</h3> <p>In other programming languages, it is possible to have two or more functions that share the same name as long as their signatures are different. However, you cannot do it in JavaScript.</p> <p>See the following example.</p> <table><thead><tr><th>123456789</th> <th>function addTen(a) {    return a + 10;} function addTen(a, b) {    return a + b + 10;}var result = addTen(100);console.log(result); // ?</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The first <code>addTen()</code> function accepts an argument. It adds 10 to that argument.</p> <p>The second <code>addTen()</code> function accepts two arguments. It adds 10 to the sum of the two arguments.</p> <p>On the next line, we call the <code>addTen()</code> function and pass one argument, and then set the return value of the function to the <code>result</code> variable.</p> <p>What is the value of the <code>result</code> variable?</p> <p>Itâ€™s <code>NaN</code>.</p> <p>Here is how it works.</p> <p>The second version of the <code>addTen()</code> function overwrites the first one. When we pass one argument to the <code>addTen()</code> function that accepts two arguments, the value of the second argument is <a href="http://www.javascripttutorial.net/javascript-data-types/#undefined" target="_blank" rel="noopener noreferrer"><code>undefined</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.  This is like when we declare a <a href="http://www.javascripttutorial.net/javascript-variables/" target="_blank" rel="noopener noreferrer">variable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> without initializing it. The function performs the following calculation:</p> <table><thead><tr><th>1</th> <th>100 + undefined + 10;</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>It returns <code>undefined</code>.</p> <p>Internally, a function name is like a pointer that points to a <code>Function</code> object, therefore, you can rewrite the <code>addTen</code> functions as follows:</p> <table><thead><tr><th>123456789</th> <th>var addTen = function(a){   return a + 10;} var addTen = function(a,b){    return a + b + 10;}var result = addTen(10);console.log(result); // undefined</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>You will learn more about this syntax in the <a href="http://www.javascripttutorial.net/javascript-function-type/" target="_blank" rel="noopener noreferrer">Function type tutorial<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="javascript-function-hoisting"><a href="#javascript-function-hoisting" aria-hidden="true" class="header-anchor">#</a> JavaScript function hoisting</h3> <p>In JavaScript, it is possible to use a function before it is declared. See the following example.</p> <table><thead><tr><th>12345</th> <th>showMe(); // an hoisting example function showMe(){    console.log('an hoisting example');}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>This feature is called <a href="http://www.javascripttutorial.net/javascript-variables/#hoisting" target="_blank" rel="noopener noreferrer">hoisting<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Internally, there are two phases happening in the JavaScript engine when it executes the code: compilation and execution.</p> <ol><li>In the compilation phase, JavaScript engine moves all the function declarations (and also variable declarations) to the top of its current context. We say that function declarations are hoisted.</li> <li>In the execution phase, JavaScript engine just executes the code.</li></ol> <p>So this is what happening internally in the JavaScript engine of the script above:</p> <table><thead><tr><th>12345</th> <th>function showMe(){    console.log('an hoisting example');} showMe(); // an hoisting example</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>JavaScript engines move the <code>showMe()</code> function declaration to the top therefore the code works fine.</p> <p>Now you should have a good understanding of the JavaScript function and know how to organize your code using functions.</p> <h2 id="javascript-function-type"><a href="#javascript-function-type" aria-hidden="true" class="header-anchor">#</a> JavaScript Function Type</h2> <p><strong>Summary</strong>: in this tutorial, you will learn about the JavaScript Function type that allows you to use functions as objects.</p> <h3 id="introduction-to-javascript-function-type"><a href="#introduction-to-javascript-function-type" aria-hidden="true" class="header-anchor">#</a> Introduction to JavaScript Function type</h3> <p>Unlike other programming languages, <a href="http://www.javascripttutorial.net/javascript-function/" target="_blank" rel="noopener noreferrer">JavaScript functions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> are objects. In other words, a function is an instance of the <code>Function</code> type. Because a function is an object, it has properties and methods like other objects. Also, the name of a function is just a pointer that points to the function object.</p> <p>See the following <code>add()</code> function.</p> <table><thead><tr><th>123</th> <th>function add(a, b) {    return a + b;}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>It is equivalent to the following syntax.</p> <table><thead><tr><th>123</th> <th>var add = function () {    return a + b;};</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>This syntax is called <em>function expression</em>. In this syntax, we declare a variable named <code>add</code> and initialize it to a function.</p> <p>Note that there is no name that follows the <code>function</code> keyword because it is not necessary. The reason is that you can reference to the function through the  <code>add</code> variable. Also, there is a semicolon (ðŸ˜‰ at the end of the function to indicate the end of the variable declaration statement.</p> <p>Now, you can call the function using the following syntax:</p> <table><thead><tr><th>12</th> <th>var result = add(10, 20);console.log(result); // 30</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Because <code>add</code> is a variable, you can assign it to another variable as follows.</p> <table><thead><tr><th>12</th> <th>var sum = add;console.log(sum(100,200));</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Now both the <code>add</code> and <code>sum</code> variables (pointers) are pointing to the same function.</p> <p>Even though the <code>add</code> function is set to <a href="http://www.javascripttutorial.net/javascript-data-types/#null" target="_blank" rel="noopener noreferrer"><code>null</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, you still can access the function using the <code>sum</code> variable as follows:</p> <table><thead><tr><th>12</th> <th>add = null;console.log(sum(1,2)); // 3</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <h3 id="function-expression-and-hoisting"><a href="#function-expression-and-hoisting" aria-hidden="true" class="header-anchor">#</a> Function expression and hoisting</h3> <p>All <a href="http://www.javascripttutorial.net/javascript-function/#hoisting" target="_blank" rel="noopener noreferrer">function declarations are hoisted<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> but function expressions are not.</p> <p>The following script works perfectly fine because the <code>greeting()</code> function is hoisted. In other words, its declaration is moved to the top in the compilation phase.</p> <table><thead><tr><th>1234</th> <th>greeting(); // Hifunction greeting() { // greeting is hoisted    alert('Hi');}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>However, this will not work.</p> <table><thead><tr><th>1234</th> <th>sayHi(); // TypeErrorvar sayHi = function () {    alert('Hi');};</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>You get an error message <code>TypeError: sayHi is not a function</code>.</p> <h3 id="functions-properties"><a href="#functions-properties" aria-hidden="true" class="header-anchor">#</a> Functions properties</h3> <p>Each function object has two properties: <code>length</code> and <code>prototype</code>.</p> <ul><li>The <code>length</code> property determines the number of named arguments specified in the function declaration.</li> <li>The <code>prototype</code> property points to the function object.</li></ul> <p>See the following example:</p> <table><thead><tr><th>12345678</th> <th>function swap(x, y) {    let tmp = x;    x = y;    y = tmp;} console.log(swap.length); // 2console.log(swap.prototype); // Object{}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The <code>swap()</code> function accepts two arguments <code>x</code> and <code>y</code>, therefore, the <code>length</code> property returns 2. We will discuss <code>prototype</code> property in more detail in the prototype tutorial.</p> <h3 id="function-methods-apply-call-and-bind"><a href="#function-methods-apply-call-and-bind" aria-hidden="true" class="header-anchor">#</a> Function methods: apply(), call() and bind()</h3> <p>A function object has three methods: <code>apply()</code>, <code>call()</code> and <code>bind()</code>.</p> <h4 id="the-apply-and-call-methods-apply-vs-call"><a href="#the-apply-and-call-methods-apply-vs-call" aria-hidden="true" class="header-anchor">#</a> The apply() and call() methods, apply() vs. call()</h4> <p>The <code>apply()</code> and <code>call()</code> functions call a function with a given this value and provided arguments. The difference between the <code>apply()</code> and <code>call()</code> function is that you need to pass the arguments to the <code>apply()</code> function as an array-like object, whereas you have to pass the arguments to the <code>call()</code>function individually.</p> <p>See the following code.</p> <table><thead><tr><th>12345678</th> <th>var cat = {type: 'Cat', sound: 'Meow'};var dog = {type: 'Dog', sound: 'Woof'}; var say = function (greeting) {    console.log(greeting);    // access current this    console.log(this.type + ' says ' + this.sound);};</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>First, we declare two objects <code>cat</code> and <code>dog</code> with two properties. Then, we declare the <code>say()</code> function that accepts one argument.</p> <p>You can call the <code>say()</code> function through the <code>apply()</code> method as follows:</p> <table><thead><tr><th>123</th> <th>say.apply(cat, ['Hi']);// Hi// Cat says Meow</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The first argument of the  <code>apply()</code> method is the <code>cat</code> object, therefore, the <code>this</code> object in the <code>say()</code>function is set to the <code>cat</code> object. The second argument is an array argument as indicated by th square brackets <code>[]</code></p> <p>If you pass the <code>dog</code> object, the <code>this</code> in the <code>say()</code> function will set to <code>dog</code>. See the following example:</p> <table><thead><tr><th>123</th> <th>say.apply(dog,['Hi']);// Hi// Dog says Woof</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The output is different because <code>type</code> and <code>sound</code> are the properties of the <code>dog</code> object inside the <code>say()</code> function.</p> <p>The <code>call()</code> method is similar to the <code>apply()</code> method except that you have to pass the arguments in as individual arguments, for example.</p> <table><thead><tr><th>123456</th> <th>say.call(cat,'Hi');// Hi// Cat says Meowsay.call(dog,'Hi');// Hi// Dog says Woof</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <h4 id="the-bind-method"><a href="#the-bind-method" aria-hidden="true" class="header-anchor">#</a> The bind() method</h4> <p>The <code>bind()</code> method creates a new function instance whose bound to the object that you pass in later. See the following example.</p> <table><thead><tr><th>12345</th> <th>// cat will say in 5svar sayLater = say.bind(cat,'Hello');setTimeout(sayLater, 5000);// Hello// Cat says Meow</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>How it works.</p> <ol><li>First, call bind method of the say function object and pass in the cat object. The <code>bind()</code> method returns a new instance of the function: <code>sayLater()</code></li> <li>Then, pass the function instance to the setTimeout function. After 5s, the <code>sayLater()</code> function is executed.</li></ol> <p>Similarly, you can execute the <code>say()</code> whose <code>this</code> is bound to the <code>dog</code> object as follows:</p> <table><thead><tr><th>1234</th> <th>// dog will say in 3ssetTimeout(say.bind(dog,'Hello'), 3000);// Hello// Dog says Woof</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>If you have to use the <code>call()</code> method, you would do it as follows:</p> <table><thead><tr><th>123</th> <th>setTimeout(function(){    say.call(cat,'Hello')},5000);</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <h3 id="javascript-function-that-returns-a-function"><a href="#javascript-function-that-returns-a-function" aria-hidden="true" class="header-anchor">#</a> JavaScript function that returns a function</h3> <p>Because a function is an object, you can return a function from a function. The following <code>compareBy()</code>function returns a function that compares two objects by a provided property.</p> <table><thead><tr><th>1234567891011121314</th> <th>function compareBy(propName) {    return function (a, b) {        var x = a[propName],            y = b[propName];         if (x &gt; y) {            return 1;        } else if (x &lt; y) {            return -1        } else {            return 0;        }    }}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Suppose, we have an array of product objects where each product object has two properties: <code>name</code> and <code>price</code>.</p> <table><thead><tr><th>12345</th> <th>var products = [    {name: 'iPhone', price: 900},    {name: 'Samsung Galaxy', price: 850},    {name: 'Sony Xperia', price: 700}];</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>To display the product list in the web console, you use the following function:</p> <table><thead><tr><th>12345</th> <th>function displayProducts(products) {    for (let i = 0; i &lt; products.length; i++) {        console.log(<code>name: ${products[i].name}, price: ${products[i].price}</code>);    }}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>You can sort an array by calling the <code>sort()</code> method. The <code>sort()</code> method accepts a function that compares two elements of the array as an argument.</p> <p>For example, you can sort the product list based on name by passing a function returned from the <code>compareBy()</code> function as follows:</p> <table><thead><tr><th>12345678</th> <th>console.log('Products sorted by name:');products.sort(compareBy('name'));displayProducts(products); //Products sorted by name://name: Samsung Galaxy, price: 850//name: Sony Xperia, price: 700//name: iPhone, price: 900</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Similarly, you can sort the product list by price:</p> <table><thead><tr><th>1234</th> <th>// sort products by priceconsole.log('Products sorted by price:');products.sort(compareBy('price'));displayProducts(products);</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Now you should understand that all functions in JavaScript are instances of the Function type like other objects.</p> <h2 id="javascript-recursive-function"><a href="#javascript-recursive-function" aria-hidden="true" class="header-anchor">#</a> JavaScript Recursive Function</h2> <p><strong>Summary</strong>: this tutorial shows you how to use recursion technique to develop a JavaScript recursive function, which is a function that calls itself.</p> <h3 id="introduction-to-the-javascript-recursive-function"><a href="#introduction-to-the-javascript-recursive-function" aria-hidden="true" class="header-anchor">#</a> Introduction to the JavaScript recursive function</h3> <p>A recursive <a href="http://www.javascripttutorial.net/javascript-function/" target="_blank" rel="noopener noreferrer">function<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is a function that calls itself. We will take the classic factorial function for the demonstration.</p> <p>in Math, a factorial of a non-negative integer is the product of all positive integer less than or equal to it. The factorial of the integer n is denoted by <code>n!</code></p> <p>The following formula shows how to calculate the factorial of a non-negative integer <code>n</code>:</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Recursive-Function-Factorial.png" alt="JavaScript Recursive Function Factorial"></p> <p>For example, the factorial of <code>5</code> is calculated as follows:</p> <table><thead><tr><th>1</th> <th>5! = 5 x 4 x 3 x 2 x 1 = 120</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>To develop a factorial function in JavaScript, you simply use a <a href="http://www.javascripttutorial.net/javascript-for-loop/" target="_blank" rel="noopener noreferrer">for loop<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as follows:</p> <table><thead><tr><th>1234567</th> <th>function factorial(n) {    var result = 1;    for (let i = n; i &gt; 1; i--) {        result *= i;    }    return result;}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>This function is clean and readable enough.</p> <p>However, it is more readable if you develop the factorial function using the recursion technique. See the following recursive factorial function.</p> <table><thead><tr><th>1234567</th> <th>function factorial(n) {    if (n &lt;= 1) {        return 1;    } else {        return n * factorial(n - 1);    }}</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>This is how it works. If <code>n</code> is equal to one or zero, the factorial of <code>n</code> is <code>1</code>; otherwise, the factorial of <code>n</code>is the product of <code>n</code> and factorial of <code>n - 1</code>.</p> <p>The function seems to work fine initially. However, as mentioned in the <a href="http://www.javascripttutorial.net/javascript-function-type/" target="_blank" rel="noopener noreferrer">Function type<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> tutorial, the name of a function is a pointer pointing to the function object.</p> <p>The following code causes an error.</p> <table><thead><tr><th>123</th> <th>var fac = factorial;factorial = null;console.log(fac(5)); // TypeError: factorial is not a function</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>How the script works.</p> <ul><li>First, assign the variable named  <code>fac</code> to the <code>factorial</code> function name.</li> <li>Second, set the <code>factorial</code> pointer to null.</li> <li>Third, call the  <code>fac</code> function.</li></ul> <p>Because inside the function, we referenced to the <code>factorial</code> name which was set to <a href="http://www.javascripttutorial.net/javascript-data-types/#null" target="_blank" rel="noopener noreferrer">null<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> at the time of calling the function, therefore we got a <code>TypeError</code> error.</p> <p>To resolve it, you can use a <em>named function expression</em> as follows:</p> <table><thead><tr><th>1234567</th> <th>var factorial = function pf(n) {    if (n &lt;= 1) {        return 1;    } else {        return n * pf(n - 1);    }};</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>In this case, the  <code>pf</code> function name is visible inside the function itself and it remains the same if you assign the function to another variable. As the result, the recursive call will work correctly.</p> <table><thead><tr><th>123</th> <th>var fac = factorial;factorial = null;console.log(fac(5)); // 120</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>In this tutorial, we have shown you how to develop JavaScript recursive functions by implementing the factorial calculation function.</p> <h2 id="javascript-closure"><a href="#javascript-closure" aria-hidden="true" class="header-anchor">#</a> JavaScript Closure</h2> <p><strong>Summary</strong>: in this tutorial, you will learn about JavaScript closure and how to use closures in your code more effectively.</p> <h3 id="introduction-to-javascript-closure"><a href="#introduction-to-javascript-closure" aria-hidden="true" class="header-anchor">#</a> Introduction to JavaScript closure</h3> <p>In JavaScript, a closure is a <a href="http://www.javascripttutorial.net/javascript-function/" target="_blank" rel="noopener noreferrer">function<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that is able to remember and access its lexical scope when that function is executing outside its lexical scope.</p> <p>To understand the closure concept, you need to understand the lexical scoping in first.</p> <h4 id="lexical-scoping"><a href="#lexical-scoping" aria-hidden="true" class="header-anchor">#</a> Lexical scoping</h4> <p>JavaScript defines the scope of a <a href="http://www.javascripttutorial.net/javascript-variables/" target="_blank" rel="noopener noreferrer">variable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> by the position of the variable in the source code. In addition, a nested function can have access to the variables declared in its outer scope. This is called lexical scoping.</p> <p>Consider the following example:</p> <table><thead><tr><th>12345678910</th> <th>function greeting() {    var message = 'Hi';     function sayHi() {        alert(message);    }     sayHi();}greeting();</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The <code>greeting()</code> function creates a local variable named <code>message</code> and a function named <code>sayHi()</code>. The <code>sayHi()</code> is an inner function that is available only within the body of the <code>greeting()</code> function.</p> <p>The <code>sayHi()</code> function has access to the variables of the outer function, therefore, it can access the <code>message</code> variable of the <code>greeting()</code> function.</p> <p>Inside the <code>greeting()</code> function, we call the <code>sayHi()</code> function.</p> <p>Finally, we call the <code>greeting()</code> function. And if you execute the code, it displays the <code>Hi</code> message as expected.</p> <h4 id="javascript-closure-2"><a href="#javascript-closure-2" aria-hidden="true" class="header-anchor">#</a> JavaScript closure</h4> <p>Letâ€™s change the <code>greeting()</code> function.</p> <table><thead><tr><th>1234567891011</th> <th>function greeting() {    var message = 'Hi';     function sayHi() {        alert(message);    }     return sayHi;}var hi = greeting();hi(); // still can access the message variable</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>Now, instead of executing the <code>sayHi()</code> function inside the <code>greeting()</code> function, the <code>greeting()</code>function returns the <code>sayHi</code> function object.</p> <p>Outside of the <code>greeting()</code> function, we assign the <code>hi</code> variable to the value returned by the <code>greeting()</code> function, which is a reference to the <code>sayHi()</code> function.</p> <p>Then we execute the sayHi() function using the reference of that function: <code>hi()</code>. If you run the code, you will get the same effect as the one above.</p> <p>However, the interesting part here is that, normally, a local variable only exists in the duration when the function executes. It means that when the <code>greeting()</code> function has completed executing on line 10, the <code>message</code> variable is no longer accessible.</p> <p>But, in this case on line 11, we execute the <code>hi()</code> function that reference to the <code>sayHi()</code> function, the <code>message</code> variable still exists.</p> <p>The magic of this is the closure. In other words, the <code>sayHi</code> function is a closure.</p> <p>A closure consists of two parts: a function and the ability to remember its lexical scope even when that function executes outside its lexical scope.</p> <h4 id="more-javascript-closure-example"><a href="#more-javascript-closure-example" aria-hidden="true" class="header-anchor">#</a> More JavaScript closure example</h4> <p>The following example illustrates a more practical example of closure.</p> <table><thead><tr><th>12345678910</th> <th>function greeting(message) {   return function(name){        return message + ' ' + name;   }}var sayHi = greeting('Hi');var sayHello = greeting('Hello'); console.log(sayHi('John')); // Hi Johnconsole.log(sayHello('John')); // Hello John</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>The <code>greeting()</code> function takes one argument named message and return a function that takes a single argument named <code>name</code>. The returned function returns a greeting message that is the combination of the <code>message</code> and <code>name</code> variables.</p> <p>The <code>greeting()</code> function is like a function factory. It creates <code>sayHi()</code> and <code>sayHello()</code> functions with the respective messages <code>Hi</code> and <code>Hello</code>.</p> <p>The <code>sayHi()</code> and <code>sayHello()</code> are closures. They share the same function body but store different scopes. In the <code>sayHi()</code> closure, the <code>message</code> is <code>Hi</code>, and in the <code>sayHello()</code> closure the <code>message</code> is <code>Hello</code>.</p> <h3 id="javascript-closure-in-a-loop"><a href="#javascript-closure-in-a-loop" aria-hidden="true" class="header-anchor">#</a> JavaScript closure in a loop</h3> <p>See the following HTML page.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">|</span> <span class="token number">123456789101112131415</span> <span class="token operator">|</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>JavaScript Closure <span class="token keyword">in</span> a Loop Demo<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;link_1&quot;</span><span class="token operator">&gt;</span>Link #<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;link_2&quot;</span><span class="token operator">&gt;</span>Link #<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;link_3&quot;</span><span class="token operator">&gt;</span>Link #<span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;js/closure-in-loop.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span>                       <span class="token operator">|</span>                                                              <span class="token operator">|</span>
</code></pre></div><p>In this example, we have three links on the page. Suppose when you click a link, the script needs to show you a message to inform you which link you have been clicked.</p> <p>The code in the <code>closure-in-loop.js</code> script file is as follows:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">|</span> <span class="token number">1234567891011121314</span> <span class="token operator">|</span> <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// get all links    var links = document.getElementsByTagName('a');     // get link count    var linkCount = links.length;    for (var i = 0; i &lt; linkCount; i++) {        links[i].addEventListener('click', function (e) {            alert('You have clicked the link ' + (i + 1));        }, false);    }} handleClick(); |</span>
<span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span>                     <span class="token operator">|</span>                                                              <span class="token operator">|</span>
</code></pre></div><p>If you launch the page and click any link, you will get the same message that:</p> <p><code>You have clicked the link 4</code></p> <p>which is not what you expected.</p> <p>Letâ€™s explain why we have the number 4 in the output.</p> <p>The condition of the loop is  <code>i &lt; linkCount</code> i.e., <code>3</code> in this case. In the body of the loop, we increment  <code>i</code> by 1 and concatenate the result with a string <code>'You have clicked the link '</code>. Therefore the final value of   <code>i + 1</code> reflects in the output.</p> <p>What we are trying to do in the loop is to copy the value of  <code>i</code> in each iteration at the time of iteration. However, it did not work as expected. The reason is that the functions assigned to <code>click</code>are closures, each closure created in each loop iteration. However, all three closures share the same lexical scope of the <code>handleClick()</code> function; in fact, there is just one <code>i</code> in the shared scope.</p> <p>What we need is a new closure scope for each iteration of the loop.</p> <h4 id="using-iife-solution"><a href="#using-iife-solution" aria-hidden="true" class="header-anchor">#</a> Using IIFE solution</h4> <p>To solve this issue, you can use an immediately-invoked function expression (or IIFE) because IIFE creates a scope by declaring a function and immediately execute it.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">|</span> <span class="token number">123456789101112131415</span> <span class="token operator">|</span> <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// get all links    var links = document.getElementsByTagName('a');    // get link count    var linkCount = links.length;    for (var i = 0; i &lt; linkCount; i++) {        (function (index) {            links[index].addEventListener('click', function (e) {                alert('You have clicked the link ' + (index + 1));            }, false);         })(i);    }}handleClick(); |</span>
<span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span>                       <span class="token operator">|</span>                                                              <span class="token operator">|</span>
</code></pre></div><h4 id="using-let-in-es6"><a href="#using-let-in-es6" aria-hidden="true" class="header-anchor">#</a> Using <code>let</code> in ES6</h4> <p>As you know that in ES6, you can use the <a href="http://www.javascripttutorial.net/javascript-variables/#let" target="_blank" rel="noopener noreferrer"><code>let</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> keyword to declare a variable that is block scoped. If you use the let keyword inside the <a href="http://www.javascripttutorial.net/javascript-for-loop/" target="_blank" rel="noopener noreferrer">for-loop<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, JavaScript will declare the variable not just one for the loop, but each iteration.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">|</span> <span class="token number">123456789101112</span> <span class="token operator">|</span> <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// get all links    var links = document.getElementsByTagName('a');    // get link count    var linkCount = links.length;    for (let i = 0; i &lt; linkCount; i++) {        links[i].addEventListener('click', function (e) {            alert('You have clicked the link ' + (i + 1));        }, false);    }}handleClick(); |</span>
<span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span>                 <span class="token operator">|</span>                                                              <span class="token operator">|</span>
</code></pre></div><p>Now you should have a good understanding of JavaScript closure and how to closures in code more effectively.</p> <h2 id="javascript-passing-by-value"><a href="#javascript-passing-by-value" aria-hidden="true" class="header-anchor">#</a> JavaScript Passing By Value</h2> <h3 id="understanding-javascript-pass-by-value"><a href="#understanding-javascript-pass-by-value" aria-hidden="true" class="header-anchor">#</a> Understanding JavaScript Pass By Value</h3> <p><strong>Summary</strong>: this tutorial explains how JavaScript pass by value works and gives you some examples of passing primitive and reference variables to a function.</p> <p>Before going forward with this tutorial, you should have good knowlege of the<a href="http://www.javascripttutorial.net/javascript-primitive-vs-reference-values/" target="_blank" rel="noopener noreferrer"> primitive and reference values, and the differences between them<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="javascript-pass-by-value-or-pass-by-reference"><a href="#javascript-pass-by-value-or-pass-by-reference" aria-hidden="true" class="header-anchor">#</a> JavaScript pass by value or pass by reference</h3> <p>In JavaScript, all <a href="http://www.javascripttutorial.net/javascript-function/" target="_blank" rel="noopener noreferrer">function<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> arguments are <em>always</em> passed by value. It means that JavaScript copies values of the <a href="http://www.javascripttutorial.net/javascript-variables/" target="_blank" rel="noopener noreferrer">variables<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that you pass to a function into local variables. Any changes that you make to the local variables inside the function does not affect the arguments that you passed in. In other words, the changes to the arguments are not reflected outside the function.</p> <p>If function arguments are passed by reference, the changes of variables that you pass to the function will be reflected outside the function. This is impossible in JavaScript.</p> <h3 id="passing-by-value-of-primitives-values"><a href="#passing-by-value-of-primitives-values" aria-hidden="true" class="header-anchor">#</a> Passing by value of primitives values</h3> <p>Letâ€™s take a look at the following example.</p> <table><thead><tr><th>123456</th> <th>function square(x) {    x = x * x;}var y = 10;square(y);console.log(y); // -- no change</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>How the script works.</p> <p>First, define a <code>square()</code> function that has an argument x .The function changes the value of the <code>x</code> argument.</p> <p>Next, declare and initialize the variable y a value of 10.</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-declare-variable.png" alt="JavaScript Pass By Value - declare variable"></p> <p>Then, pass the <code>y</code> variable to the <code>square()</code> function. When passing the variable <code>y</code> to the <code>square()</code>function, JavaScript copies the value of <code>y</code> to the <code>x</code> variable.</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-passing-primitive-argument.png" alt="JavaScript Pass By Value - passing primitive argument"></p> <p>After that, the <code>square()</code> function changes the x variable. However, it does not change the value of the variable <code>y</code>. This is because <code>x</code> and <code>y</code> are totally different variables.</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-changing-primitive-value.png" alt="JavaScript Pass By Value - changing primitive value"></p> <p>Finally, the value of the <code>y</code> value does not change after the <code>square()</code> function completes.</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-primitive-type.png" alt="JavaScript Pass By Value - primitive type"></p> <p>If JavaScript were passed by reference, the value of the variable <code>y</code> would change to <code>100</code>.</p> <h3 id="passing-by-value-of-references"><a href="#passing-by-value-of-references" aria-hidden="true" class="header-anchor">#</a> Passing by value of references</h3> <p>Itâ€™s obvious to see that primitive values are passed by values. However, it is not the case for the reference values. Take this for example:</p> <table><thead><tr><th>12345678910</th> <th>function turnOn(machine) {    machine.isOn = true;} var computer = {    isOn: false}; turnOn(computer);console.log(computer.isOn); // true;</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>How the script works.</p> <p>First, define the <code>turnOn()</code> function that accepts an object <code>machine</code>. The function sets the <code>isOn</code>property of the object to <code>true</code>.</p> <p>Next, declare a variable <code>computer</code> and assign it an object whose <code>isOn</code> property is set to <code>false</code>. Internally, the <code>computer</code> contains a reference  value which essentially is a pointer that points to an object as illustrated below:</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-Object-Declaration.png" alt="JavaScript Pass By Value - Object Declaration"></p> <p>Then, pass the <code>computer</code> variable to the <code>turnOn()</code> function. JavaScript copies the value of the <code>computer</code> variable to <code>machine</code> variable. As the result, both <code>computer</code> and <code>machine</code> variables are pointing to the same object as shown below:</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-Passing-argument.png" alt="JavaScript Pass By Value -Passing argument"></p> <p>After that, inside the <code>turnOn()</code> function, the <code>isOn</code> property of the object is set to <code>false</code> via the <code>machine</code> reference.</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-changes.png" alt="JavaScript Pass By Value - changes"></p> <p>Finally, accessing the <code>isOn</code> property of the <code>computer</code> object returns <code>true</code>.</p> <p><img src="http://www.javascripttutorial.net/wp-content/uploads/2016/08/JavaScript-Pass-By-Value-accessing-outside-function.png" alt="JavaScript Pass By Value - accessing outside function"></p> <p>It seems that a reference value is passed to the function by reference. However, this is not the case.</p> <p>In fact, when you pass a reference value to a function, you are passing the reference to the object, not the object. Therefore, the function can modify the properties of the object.</p> <p>In addition, when you pass a reference to a function, the function cannot change the reference to point to another object.</p> <p>Letâ€™s prove it through the following example.</p> <table><thead><tr><th>1234567891011</th> <th>function turnOn(machine) {    machine = {        isOn: true    };} var computer = {    isOn: false}; console.log(computer.isOn); // false;</th></tr></thead> <tbody><tr><td></td> <td></td></tr></tbody></table> <p>This time, the <code>turnOn()</code> function change the <code>machine</code> object so that it points to another new object.</p> <p>Before passing the <code>computer</code> object to the <code>turnOn()</code> function, the <code>isOn</code> property of the <code>computer</code>object is <code>false</code>.</p> <p>If the <code>computer</code> variable was passed by reference, the <code>computer</code> variable would be changed to point to the new object whose <code>isOn</code> property is <code>true</code>.</p> <p>However, when we access the <code>isOn</code> property again, its values is <code>false</code>, showing that the original reference did not change even though the argument value changed inside the function.</p> <p>Now, you should understand that all function arguments in JavaScript are passed by value, not by reference.</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/8.bb1e35cd.js" defer></script><script src="/assets/js/app.f2dbc28d.js" defer></script>
  </body>
</html>
